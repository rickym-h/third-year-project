<!DOCTYPE html>
<html>
<head>
    <title>Learn</title>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Inconsolata">
    <style>
        body, html {
            height: 100%;
            font-family: "Inconsolata", sans-serif;
        }

        .bgimg {
            background-position: center;
            background-size: cover;
            background-image: url("mountian-image.jpg");
            min-height: 75%;
        }

        /*.menu {*/
        /*  display: none;*/
        /*}*/
    </style>
</head>
<body>


<!-- Links (sit on top) -->
<div class="w3-top">
    <div class="w3-row w3-padding w3-black">
        <div class="w3-col s3">
            <a href="index.html" class="w3-button w3-block w3-black">HOME</a>
        </div>
        <div class="w3-col s3">
            <a href="learn.html" class="w3-button w3-block w3-black">LEARN</a>
        </div>
        <div class="w3-col s3">
            <a href="demos.html" class="w3-button w3-block w3-black">DEMOS</a>
        </div>
        <div class="w3-col s3">
            <a href="pseudocode.html" class="w3-button w3-block w3-black">PSEUDOCODE</a>
        </div>
    </div>
</div>


<!-- Add a background color and large text to the whole page -->
<div class="w3-sand w3-grayscale w3-large">

    <!-- About Container -->
    <div class="w3-container" id="about">
        <div class="w3-content" style="max-width:700px">
            <h5 class="w3-center w3-padding-64"><span class="w3-tag w3-wide">LEARN</span></h5>
            <p>CREATED MY KEN PERLIN ETC</p>
            <p>Perlin noise is an algorithm to generate deterministic gradient noise. Since it is deterministic, it can be seeded to generate the same values with the same inputs, meaning it is predictable. Gradient noise as a type of noise which is created by interpolating between gradients.</p>
            <p>At a very high level, it allows us to generate random numbers which are close to nearby randomly generated values, rather than simply completely random. This can be useful for things like creating more realistic textures for clouds or wood in computer graphics.</p>
            <p>It can generate values in any number of dimensions but its most commonly implemented in two, three, or four dimensions.</p>
            <p>The complexity of the algorithm is O(2n) where n is the number of dimensions.</p>
            <!--      <div class="w3-panel w3-leftbar w3-light-grey">-->
            <!--        <p><i>"Use products from nature for what it's worth - but never too early, nor too late." Fresh is the new sweet.</i></p>-->
            <!--        <p>Chef, Coffeeist and Owner: Liam Brown</p>-->
            <!--      </div>-->
            <!--      <p><strong>Opening hours:</strong> everyday from 6am to 5pm.</p>-->
            <!--      <p><strong>Address:</strong> 15 Adr street, 5015, NY</p>-->
        </div>
    </div>


    <!-- End page content -->
</div>
<script>

    // Returns a random vector with unit length 1.
    function getRandom2DUnitVector() {
        let theta = Math.random() * 2 * Math.PI;
        return {x: Math.cos(theta), y: Math.sin(theta)}
    }

    let grid = [];
    const nodes = 5;

    for (let i = 0; i < nodes; i++) {
        let row = [];
        for (let j = 0; j < nodes; j++) {
            row.push(getRandom2DUnitVector());
        }
        grid.push(row);
    }

    function dotProduct(nodeX, nodeY, candidateX, candidateY) {
        try {
            let nodeVec = grid[nodeX][nodeY];
            let candidateVec = {x: candidateX-nodeX, y: candidateY-nodeY}
            return (nodeVec.x * candidateVec.x) + (nodeVec.y * candidateVec.y)
        } catch (e) {
            console.log(nodeX, nodeY, candidateX, candidateY);
            console.log("RETURNING 0")
            return 0;
        }
    }

    function interpolate(x, a, b) {
        // Smoother step interpolation
        x = 6*x**5 - 15*x**4 + 10*x**3;
        return (a + (x * (b-a)));
    }


    function getPerlin(x, y) {
        let x0 = Math.floor(x);
        let x1 = x0+1;
        let y0 = Math.floor(y);
        let y1 = y0+1;

        let topLeft = dotProduct(x0, y1, x, y);
        let topRight = dotProduct(x1, y1, x, y);
        let botLeft = dotProduct(x0, y0, x, y);
        let botRight = dotProduct(x1, y0, x, y);

        let xWeight = x - x0;
        let yWeight = y - y0;

        let left = interpolate(yWeight, botLeft, botRight);
        let right = interpolate(yWeight, botRight, topRight);

        let intensity = interpolate(xWeight, left, right);

        return intensity;
    }

    let string = "";
    console.log("nodes: " + nodes)
    for (let x = 0; x < nodes-1; x+=0.1) {
        string += "(" + x + "," + getPerlin(x, 0) + "),"
    }
    console.log(string);



</script>
<!-- Footer -->
<footer class="w3-center w3-light-grey w3-padding-48 w3-large">
    <p>Created by <a href="https://github.com/rickym-h" title="W3.CSS" target="_blank" class="w3-hover-text-green">Richard Hull</a></p>
</footer>


</body>
</html>
